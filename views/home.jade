extends layout

block scripts
  script(src='/js/jquery/jquery.js')
  script(src="/js/jquery/jquery-ui.min.js")
  script(src="/js/jquery/jquery.transit.min.js")
  script(src="/js/jquery/jquery-mousewheel.min.js")
  script(src='/socket.io/socket.io.js')

  script(src="/js/home/main.js")
  script(src="/js/home/headerMenu.js")
  script(src="/js/home/settingsMenu.js")
  script(src="/js/home/addElementController.js")

  script(src="/js/createNewElement.js")
  //- script(src="/js/elementEmitters/addElement.js")
  script(src="/js/elementEmitters/deleteElement.js")
  script(src="/js/elementEmitters/dragElement.js")
  script.
    var userName = "!{user.name}"
    var userId = "!{user.id}"

block content
  header
    include partials/settingsMenu

  
  section.space
    section.content
      .translate-container
        .scale-container
          -var elem_width = 400
          -var elem_height = 700

          -var i = 0
          -for (var i = 0; i < user.spaces.length; i++)
            -var collection = user.spaces[i]
            -var top = (i * elem_height)
            include partials/addElementForm
            .collection(style="top:"+top+"px;height:"+(elem_height)+"px;", data-spacekey=collection.spaceKey)
              -for (var j = 0; j < collection.elements.length; j++)
                -var element = collection.elements[j]
                include partials/element
          script.
            collection_max_y="#{top}";
