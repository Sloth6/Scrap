- var root = 'https://s3-us-west-2.amazonaws.com/scrapimagesteamnap/'
- var classes = [ element.contentType, "draggable" ]

if element.contentType == 'text'
  if element.content.length >= 50
    - classes.push("long")
  else
    - classes.push("short")

- var posString = "top:"+element.y +"px;left:"+element.x+"px;z-index:"+element.z+";"
- var scaleString = "-webkit-transform:scale3d(1.0,1.0,1.0); transform:scale3d(1.0,1.0},1.0);"

article(id=element.id, class= classes, style=posString+scaleString)
  .card(data-key=element.content, class=element.contentType)
    case element.contentType
      when 'image'
        img(src= root+current_space.spaceKey+"/"+element.content+'/small.jpg')
        author= names[element.creatorId]

      when 'gif'
        img(src= root+current_space.spaceKey+"/"+element.content+'/normal.png')
        author= names[element.creatorId]

      when 'website'
        -var content = JSON.parse(element.content)
        -var url = decodeURIComponent(content.url)
        img(src=content.image)
        a(href=url, target='_blank')
          .text
            .title
              p!=content.title
            .url
              p!=content.domain
                author= names[element.creatorId]

      when 'file'
        img(src="https://cdn3.iconfinder.com/data/icons/brands-applications/512/File-512.png")
        .title
          p!=element.content.split('/').pop()
            author= names[element.creatorId]

      when 'video'
        video("controls")
          source(src=element.content)
          | Your browser does not support the video tag
        author= names[element.creatorId]

      default
        p!= element.content
          author= names[element.creatorId]