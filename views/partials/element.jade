- var root = 'https://s3-us-west-2.amazonaws.com/scrapimagesteamnap/'
- var classes = [ element.contentType, "draggable" ]

if element.contentType == 'text'
  if element.content.length >= 50
    - classes.push("long")
  else
    - classes.push("short")

- var posString = "top:"+element.y +"px;left:"+element.x+"px;z-index:"+element.z+";"
- var scaleString = "-webkit-transform:scale3d(1.0,1.0,1.0); transform:scale3d(1.0,1.0},1.0);"

article(id=element.id, class= classes, style=posString+scaleString, data-content=element.content, data-creatorid=element.creatorId, data-contenttype=element.contentType)
  .card(data-key=element.content, class=element.contentType)
    author= names[element.creatorId]
    if names[element.creatorId] != ""
    case element.contentType
      when 'image'
        - if (typeof(original_url) !== 'undefined'){
          img(src= original_url)
        - } else {
          img(src= root+current_space.spaceKey+"/"+element.content+'/small.jpg')
        - }

      when 'gif'
        img(src= root+current_space.spaceKey+"/"+element.content+'/normal.png')

      when 'website'
        -var content = JSON.parse(element.content)
        -var url = decodeURIComponent(content.url)
        img(src=content.image)
        a(href=url, target='_blank')
          .text
            .title
              p!=content.title
            .url
              p!=content.domain

      when 'file'
        img(src="https://cdn3.iconfinder.com/data/icons/brands-applications/512/File-512.png")
        .title
          p!=element.content.split('/').pop()

      when 'video'
        video("controls")
          source(src=element.content)
          | Your browser does not support the video tag

      default
        p!= element.content