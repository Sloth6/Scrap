$cardHoverScaleMin: scale3d(1.125, 1.125, 1.125);
$cardHoverScaleMax: scale3d(1.15,  1.15,  1.15);

@-webkit-keyframes cardPulsateHover {
    0% {
        @include transform($cardHoverScaleMin);
    }
    
    100% {
        @include transform($cardHoverScaleMax);
    }
}


@-webkit-keyframes cardPulsateDrag {
    0% {
    @include transform(rotateZ(-2deg) $cardHoverScaleMin);
    }
    
    100% {
    @include transform(rotateZ(-2deg) $cardHoverScaleMax);
    }
}

@mixin cardStyle {
    background-color: $colorCardBackground;
    @include box-shadow(0 $gutter/6 $gutter rgba(0,0,0,.125));
    padding: $cardPadding;
}

@mixin cardHover {
//     opacity: .75;
    @include transform($cardHoverScaleMin);
    @include box-shadow(0 $gutter/2 $gutter*4 rgba(0,0,0,.125));
    @include transition-timing-function($bouncyCurve);
//     -webkit-animation: cardPulsateHover 1s ease-in-out infinite alternate;
}

@mixin cardDrag {
    cursor: move;
    @include box-shadow(0 $gutter/2 $gutter*2 rgba(0,0,0,.125));
    @include transform(rotateZ(-4deg) $cardHoverScaleMin);
        @include transition-timing-function($defaultCurve);
//     -webkit-animation: cardPulsateDrag 1s ease-in-out infinite alternate;

}

@mixin button {
    // @include cardStyle;
    @include typeBodySmallCaps;
    // padding: $gutter;
    // 
    // &:hover, &:focus {
    //     @include cardHover;
    //     @include transform(scale(1.125));
    // }
    // 
    // &:active {
    //     @include transform(scale(.925));
    //     @include box-shadow(0 $gutter/6 $gutter/2 rgba(0,0,0,.125));
    // }
    
    &:hover {
        font-family: $fontBold;
        letter-spacing: 0.1em;
    }
}

@mixin buttonOffset {
    // position: relative;
    // margin-left: -$gutter*1.5;
    // margin-top: -.666em;
    // left: 100%;
    // float: left;
}

.card {
    
    &.form {
        padding-left: $gutter * 2 !important;
    }
}

form {
    position: relative;
}

input {
    @include resetInput;
    @include typeBody;
    border-bottom: .5pt $colorWashMedium solid;
    
    &:focus {
        border-color: $colorType;
    }
    
    &.offset {
        @include button;
        @include buttonOffset;
    }
    
    &[type=submit], &[type=button] {
        @include smallCaps;
        border: 0;
        cursor: pointer;
    }
    
    &[type=checkbox] {
        width: 1em;
        margin-left: -1.5em;
        margin-right: .5em;
        
        & + label {
            @include smallCaps;
        }
    }
    
}

ul.menu {
    @include cardStyle;
    padding: 0; // override cardStyle
    width: $col;
    position: relative;
    max-height: $baseline * 1.5;
    overflow: hidden;
    vertical-align: top;
    @include basicTransition;
    @include transition-property(opacity);
    
    &:hover {
        max-height: none;
        opacity: 1;
        
        &:after {
            opacity: 1;
        }
    }
    
    li {
        height: $baseline * 1.5;
        padding-left: .5em;
        
        &:first-of-type {
            padding-top: $baseline/2
        }
        
        a {
            border: none;
            display: block;
            width: 100%;
            height: 100%;
            @include transition(font-family .25s $defaultCurve);
            
            &:hover {
                font-family: $fontBold;
            }
        }
        
        input {
            width: 95% !important;
            padding-top: 0;
            
            &[type=submit] {
                display: none;
            }
        }
    }
}

textarea {
  @include resetInput;
  @include typeBody;   
  width: 100%;
  height: $baseline * 6;
}
